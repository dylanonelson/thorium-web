version: v2
plugins:
  # Python (remote plugin - no protoc needed!)
  - remote: buf.build/protocolbuffers/python
    out: ../backend/proto_gen

  # TypeScript via ts-proto (remote plugin)
  - remote: buf.build/community/stephenh-ts-proto
    out: ../frontend/proto_gen
    opt:
      - esModuleInterop=true
      - useExactTypes=true
      - outputServices=generic-definitions
